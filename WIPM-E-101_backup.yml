---
VLAN: 8000
VRF_START: 2001
VRF_END: 2100
BGP:
  peer_as: 1234
  peer_list:
    - 30.0.0.2
interfaces:
  # et-0/1/15:
  #   description: "To IXIA 14 Card 4 Port 8"
  #   mtu: 9192 
  #   bundle: ae100

  et-0/1/0:
     description: "To DY IXIA Card 1 Port 5"
     mtu: 9192 
     bundle: ae21

  # ae100:
  #   description: "LACP link to IXIA 14, Card 4 Port 8 "
  #   mtu: 9192
  #   ipv4_addr_start: "30.0.0.1"
  #   ipv4_mask: 30
  #   interface_set: GRP_AE100_STKVLAN
  #   pir: 50g
  #   cir: 10m


  irb:
    description:
    mtu: 
    bundle:
    unit:
      2000: 
        description: "irb for VLAN 100, V302047R"
        ipv4_addr: "30.0.1.253/24"
        vgav4_addr: "30.0.1.254"
        inet_mtu: 
        routing_instance: B4000001R
        #shaping_rate: 10G
      3300: 
        description: "irb for VLAN 3300, V302047R"
        ipv4_addr: "30.0.1.253/24"
        vgav4_addr: "30.0.1.254"
        inet_mtu: 
        routing_instance: B4000002R
        #shaping_rate: 10G

  ae21:
    system_id: 44:f4:77:0b:12:34
    esi_mac: 44:f4:77:0b:12:34
    multi_homed: TRUE
    single_active: FALSE
    routing_instance: 
    description: "Link to DY IXIA for L3VPN PWHT test "
    mtu: 9192
    unit:
      # 0: 
      #   description: "EVPN UNI Trunk"
      #   routing_instance: VPWS_EVI1
      #   shaping_rate: 10G
      2000:
        description: "VLAN 2000 Department" 
        interface_mode: trunk
        vlan_list:
          - 100
          - 2000-3000
          - 3300

        vlan_translate:
        routing_instance: V302047R 
        #shaping_rate: 10G
      # 2001: 
      #   description: "PWHT service vlan 2000, B40000001R"
      #   interface_mode:
      #   vlan_id: 2001
      #   routing_instance: B4000002R
      #   ipv4_addr: "30.0.1.2/30"
      #   inet_mtu:
      #   shaping_rate: 10G
      # 1000:
      #   description: "VLAN 100 L3 interface to somwehere"
      #   interface_mode: trunk
      #   vlan_list:
      #     - 1000-2000
      #     - 2000
      #   routing_instance: DCI_EVPN
      #   shaping_rate: 10G
      # 100:
      #   description: "VLAN 1001 VPWS to remote DC"
      #   encapsulation: vlan-ccc
      #   vlan_id: 200
      #   routing_instance: VPWS_EVI1
      #   shaping_rate: 10G

  # ps0:
  #   system_id: 
  #   esi_mac: b2:eb:7f:97:97:c5
  #   multi_homed: TRUE
  #   single_active: TRUE
  #   esi_preference: 1000
  #   description: "Link to Multihomed CE L2CE1 "
  #   mtu: 9192
  #   anchor: lt-0/0/0
    
  #   unit:
  #     0:
  #       description: "PWHT transport interface, VPWS_EVI1 "
  #       interface_mode:
  #       encapsulation: ethernet-ccc
  #       vlan_id:
  #       routing_instance: VPWS_EVI1
  #     2000:
  #       description: "PWHT service vlan 2000, B40000001R"
  #       interface_mode:
  #       vlan_id: 2000
  #       routing_instance: B4000001R
  #       ipv4_addr: "30.0.0.2/30"
  #       inet_mtu:
  #       shaping_rate: 10G
      
routing_instances:

  V302047R:
      description: "JP2047 Test EVPN instance"
      instance_type: virtual-switch
      rd: "144.133.128.167:2047"
      rt: "target:65530:2047"
      bridge_domains:
        DoD_2000:
          description: "VLAN 2000"
          IRB: TRUE
          VLAN: 2000
        DoD_3300:
          description: "VLAN 3300"
          IRB: TRUE
          VLAN: 3300
      l2_stretch_vlan_list:
        - 2001-3000
        - 100

  # VPWS_EVI1:
  #   description: "EVPN VPWS"
  #   instance_type: evpn-vpws 
  #   rd: "144.133.128.167:21234"
  #   rt: "target:65530:21234"
  #   interface: 
  #     ae21.0:
  #       local_service: 201000
  #       remote_service: 101000
  #     ps0.0:
  #       local_service: 101000
  #       remote_service: 201000
  B4000001R:
    description: "Test L3VPN for PS instance"
    instance_type: vrf
    rd: "144.133.128.167:25678"
    rt: "target:65530:25678"
    vrf_import:
    vrf_export:
    protocols:
      bgp:
        group:
          eBGP:
            peer_as : 5678
            import_policy : 
            export_policy :
            bfd: TRUE
            neighbor:
              30.0.1.1:
                description : "IXIA Traffic generator"
  B4000002R:
    description: "2nd Test L3VPN for PS instance"
    instance_type: vrf
    rd: "144.133.128.167:25679"
    rt: "target:65530:25679"
    vrf_import:
    vrf_export:
    # protocols:
    #   bgp:
    #     group:
    #       eBGP:
    #         peer_as : 5678
    #         import_policy : 
    #         export_policy :
    #         bfd: TRUE
    #         neighbor:
    #           30.0.1.1:
    #             description : "IXIA Traffic generator"


  # irb:
  #   description:
  #   mtu: 
  #   bundle:
  #   unit:
  #     100: 
  #       description: "irb for VLAN 100, V11200-NSWA-CORE-CAD"
  #       ipv4_addr: "10.0.0.253/24"
  #       vgav4_addr: "10.0.0.254"
  #       inet_mtu: 
  #       routing_instance: B4000001R
        #shaping_rate: 10G
  


    # unit:
    #   100: 
    #     description: "VLAN_100"
    #     vlan_id: 100
    #     ipv4_addr: 10.1.1.1/31
    #     inet_mtu: 
    #     routing_instance: B4000001R
    #     cir: 100M
    #     pir:
    #     qos: TRUE
    #     interface_set: GRP_XE001_STKVLAN_1
    #   200: 
    #     description: "VLAN_200"
    #     vlan_id: 200
    #     ipv4_addr: 10.1.2.1/31
    #     inet_mtu: 
    #     routing_instance: B4000001R
    #     cir: 200M
    #     pir:
    #     qos: TRUE
    #     interface_set: GRP_XE001_STKVLAN_1
    #   300: 
    #     description: "VLAN_300"
    #     vlan_id: 300
    #     ipv4_addr: 10.1.3.1/31
    #     inet_mtu: 
    #     routing_instance: B4000001R
    #     cir: 300M
    #     pir: 300M
    #     qos: TRUE
    #     interface_set: 
    #   400: 
    #     description: "VLAN_200"
    #     vlan_id: 400
    #     ipv4_addr: 10.1.4.1/31
    #     inet_mtu: 
    #     routing_instance: B4000001R
    #     cir: 400M
    #     pir:
    #     qos: TRUE
    #     interface_set: GRP_XE001_STKVLAN_2
    #   500: 
    #     description: "VLAN_200"
    #     vlan_id: 500
    #     ipv4_addr: 10.1.5.1/31
    #     inet_mtu: 
    #     routing_instance: B4000001R
    #     cir: 500M
    #     pir:
    #     qos: FALSE
    #     interface_set: GRP_XE001_STKVLAN_2
    #   600: 
    #     description: "VLAN_200"
    #     vlan_id: 600
    #     ipv4_addr: 10.1.6.1/31
    #     inet_mtu: 
    #     routing_instance: B4000001R
    #     cir: 600M
    #     pir:
    #     qos: TRUE
    #     interface_set: GRP_XE001_STKVLAN_2


class_of_service:
  interface: ae100
  interface_set:
    GRP_AE100_STKVLAN:
      member_count: 5
      cir: 50m
      pir: 50g
    # GRP_XE001_STKVLAN_2:
    #   cir: 1500m
    #   pir: 3g 



  
   



