---
VLAN: 8000
VRF_START: 1
VRF_END: 2000
BGP:
  peer_as: 1234
  peer_list:
    - 30.0.102.2
interfaces:
  # et-0/5/3:
  #   description: "To IXIA 14 Card 4 Port 6"
  #   mtu: 9192 
  #   bundle: ae100

  # ae100:
  #   description: "LACP link to IXIA 14, Card 4 Port 6 "
  #   mtu: 9192
  #   ipv4_addr_start: "30.0.102.1"
  #   ipv4_mask: 30
  #   interface_set: GRP_AE100_STKVLAN
  #   pir: 50g
  #   cir: 10m


  xe-0/0/2:3:
     description: "to rndmej436ltb0g24 xe-7/0/2, ae6"
     mtu: 9192 
     bundle: ae21
  et-0/5/3: 
     description: "to IXIA14 Card 3 Port 4"
     mtu: 9192 
     bundle: ae22


  # ae100:
  #   description: "LACP link to IXIA 14, Card 4 Port 8 "
  #   mtu: 9192
  #   ipv4_addr_start: "30.0.0.1"
  #   ipv4_mask: 30
  #   interface_set: GRP_AE100_STKVLAN
  #   pir: 50g
  #   cir: 10m

  irb:
    description:
    mtu: 
    bundle:
    unit:
      100: 
        description: "irb for VLAN 100, V302047R"
        ipv4_addr: "30.0.0.252/24"
        vgav4_addr: "30.0.0.254"
        inet_mtu: 
        routing_instance: B4000001R
      300: 
        description: "irb for VLAN 100, V302047R"
        ipv4_addr: "30.0.0.252/24"
        vgav4_addr: "30.0.0.254"
        inet_mtu: 
        routing_instance: B4000002R
        #shaping_rate: 10G

  ae21:
    system_id: 44:f4:77:0b:3f:c8
    esi_mac: 44:f4:77:0b:3f:c8
    multi_homed: TRUE
    single_active: FALSE
    routing_instance: V302047R
    description: "Link to Multihomed CE L2CE1 "
    mtu: 9192
    vlan_list:
      - 2000-3000
      - 300    
    unit:
      # 0: 
      #   description: "EVPN UNI Trunk"
      #   routing_instance: VPWS_EVI1
      #   encapsulation: ethernet-ccc
      #   shaping_rate: 10G
      100:
        description: "VLAN 2000 Department" 
        interface_mode: trunk
        vlan_list:
          - 100
        vlan_translate:
          200 : 100
        routing_instance: V302047R 
        #shaping_rate: 10G
  # ae22:
  #   #system_id: 44:f4:77:0b:3f:c9
  #   #esi_mac: 44:f4:77:0b:3f:c9
  #   multi_homed: FALSE
  #   single_active: FALSE
  #   routing_instance: 
  #   description: "Link to Multihomed CE L2CE1 "
  #   mtu: 9192
  #   unit:
  #     # 0: 
  #     #   description: "EVPN UNI Trunk"
  #     #   routing_instance: VPWS_EVI1
  #     #   encapsulation: ethernet-ccc
  #     #   shaping_rate: 10G 
  #     2000:
  #       description: "PWHT service vlan 2000, B40000003R"
  #       interface_mode:
  #       vlan_id: 2000
  #       routing_instance: B4000003R
  #       ipv4_addr: "30.0.0.2/30"
  #       inet_mtu:
  #       shaping_rate: 10G
  #     2001:
  #       description: "PWHT service vlan 2000, B40000004R"
  #       interface_mode:
  #       vlan_id: 2001
  #       routing_instance: B4000004R
  #       ipv4_addr: "30.0.0.2/30"
  #       inet_mtu:
  #       shaping_rate: 10G 
      # 1000:
      #   description: "VLAN 100 L3 interface to somwehere"
      #   interface_mode: trunk
      #   vlan_list:
      #     - 1000-2000
      #     - 2000
      #   routing_instance: DCI_EVPN
      #   shaping_rate: 10G
      # 100:
      #   description: "VLAN 1001 VPWS to remote DC"
      #   encapsulation: vlan-ccc
      #   vlan_id: 200
      #   routing_instance: VPWS_EVI1
      #   shaping_rate: 10G

  # ps0:
  #   system_id: 
  #   esi_mac: b2:eb:7f:97:97:c5
  #   multi_homed: TRUE
  #   single_active: TRUE
  #   esi_preference: 900
  #   description: "Link to Multihomed CE L2CE1 "
  #   mtu: 9192
  #   anchor: lt-7/0/0
    
  #   unit:
  #     0:
  #       description: "PWHT transport interface, VPWS_EVI1 "
  #       interface_mode:
  #       encapsulation: ethernet-ccc
  #       vlan_id:
  #       routing_instance: VPWS_EVI1
  #     2000:
  #       description: "PWHT service vlan 2000, B40000001R"
  #       interface_mode:
  #       vlan_id: 2000
  #       routing_instance: B4000001R
  #       ipv4_addr: "30.0.0.2/30"
  #       inet_mtu:
  #       shaping_rate: 10G
  #     2001:
  #       description: "PWHT service vlan 2000, B40000001R"
  #       interface_mode:
  #       vlan_id: 2001
  #       routing_instance: B4000002R
  #       ipv4_addr: "30.0.0.2/30"
  #       inet_mtu:
  #       shaping_rate: 10G

  # ps1:
  #   system_id: 
  #   esi_mac: b2:eb:7f:97:97:c6
  #   multi_homed: TRUE
  #   single_active: TRUE
  #   esi_preference: 900
  #   description: "Link to Multihomed CE L2CE1 "
  #   mtu: 9192
  #   anchor: lt-7/0/0
    
  #   unit:
  #     0:
  #       description: "PWHT transport interface, VPWS_EVI1 "
  #       interface_mode:
  #       encapsulation: ethernet-ccc
  #       vlan_id:
  #       routing_instance: VPWS_EVI1
  #     2000:
  #       description: "PWHT service vlan 2000, B40000003R"
  #       interface_mode:
  #       vlan_id: 2000
  #       routing_instance: B4000003R
  #       ipv4_addr: "30.0.0.2/30"
  #       inet_mtu:
  #       shaping_rate: 10G
  #     2001:
  #       description: "PWHT service vlan 2000, B40000004R"
  #       interface_mode:
  #       vlan_id: 2001
  #       routing_instance: B4000004R
  #       ipv4_addr: "30.0.0.2/30"
  #       inet_mtu:
  #       shaping_rate: 10G
      
routing_instances:
  V302047R:
      description: "JP2047 Test EVPN instance"
      instance_type: virtual-switch
      rd: "144.133.144.7:2047"
      rt: "target:65530:2047"
      bridge_domains:
        DoD_100:
          description: "VLAN 100 Dept"
          IRB: TRUE
          VLAN: 100
        DoD_300:
          description: "VLAN 300 Dept"
          IRB: TRUE
          VLAN: 300
      l2_stretch_vlan_list:
        - 2000-3000
  
  
  # VPWS_EVI1:
  #   description: "EVPN VPWS"
  #   instance_type: evpn-vpws 
  #   rd: "144.133.144.7:21234"
  #   rt: "target:65530:21234"
  #   interface: 
  #     ae21.0:
  #       local_service: 201000
  #       remote_service: 101000
  #     ps0.0:
  #       local_service: 101000
  #       remote_service: 201000
  #     # ae22.0:
  #     #   local_service: 401000
  #     #   remote_service: 301000
  #     # ps1.0:
  #     #   local_service: 301000
  #     #   remote_service: 401000
  B4000001R:
    description: "Test L3VPN for PS instance"
    instance_type: vrf
    rd: "144.133.144.7:25678"
    rt: "target:65530:25678"
    vrf_import:
    vrf_export:
    protocols:
      bgp:
        group:
          eBGP:
            peer_as : 1234
            import_policy : 
            export_policy :
            bfd: TRUE
            neighbor:
              30.0.0.1:
                description : "IXIA Traffic generator"
  B4000002R:
    description: " 2nd Test L3VPN for PS instance"
    instance_type: vrf
    rd: "144.133.144.7:25679"
    rt: "target:65530:25679"
    vrf_import:
    vrf_export:
    protocols:
      static:
        30.1.0.0/30: 
          - 30.0.0.1
      # bgp:
      #   group:
      #     eBGP:
      #       peer_as : 1234
      #       import_policy : 
      #       export_policy :
      #       bfd: TRUE
      #       neighbor:
      #         30.0.0.1:
      #           description : "IXIA Traffic generator"

  # B4000003R:
  #   description: "Test L3VPN for PS1 instance"
  #   instance_type: vrf
  #   rd: "144.133.144.7:25680"
  #   rt: "target:65530:25680"
  #   vrf_import:
  #   vrf_export:
  #   protocols:
  #     bgp:
  #       group:
  #         eBGP:
  #           peer_as : 5678
  #           import_policy : 
  #           export_policy :
  #           bfd: TRUE
  #           neighbor:
  #             30.0.0.1:
  #               description : "IXIA Traffic generator"
  
  # B4000004R:
  #   description: " 2nd Test L3VPN for PS1 instance"
  #   instance_type: vrf
  #   rd: "144.133.144.7:25681"
  #   rt: "target:65530:25681"
  #   vrf_import:
  #   vrf_export:
  #   protocols:
  #     bgp:
  #       group:
  #         eBGP:
  #           peer_as : 5678
  #           import_policy : 
  #           export_policy :
  #           bfd: TRUE
  #           neighbor:
  #             30.0.0.1:
  #               description : "IXIA Traffic generator"


      
  
# routing_instances:
#   #%%% L2 EVPN instances 
#   V2047R:
#     description: "JP2047 Test EVPN instance"
#     instance_type: virtual-switch
#     rd: "144.133.128.133:2047"
#     rt: "target:65530:2047"
#     bridge_domains:
#       DoD_100:
#         description: "VLAN 100"
#         IRB: TRUE
#         VLAN: 100
#     l2_stretch_vlan_list:
#       - 100

    # unit:
    #   100: 
    #     description: "VLAN_100"
    #     vlan_id: 100
    #     ipv4_addr: 10.1.1.1/31
    #     inet_mtu: 
    #     routing_instance: B4000001R
    #     cir: 100M
    #     pir:
    #     qos: TRUE
    #     interface_set: GRP_XE001_STKVLAN_1
    #   200: 
    #     description: "VLAN_200"
    #     vlan_id: 200
    #     ipv4_addr: 10.1.2.1/31
    #     inet_mtu: 
    #     routing_instance: B4000001R
    #     cir: 200M
    #     pir:
    #     qos: TRUE
    #     interface_set: GRP_XE001_STKVLAN_1
    #   300: 
    #     description: "VLAN_300"
    #     vlan_id: 300
    #     ipv4_addr: 10.1.3.1/31
    #     inet_mtu: 
    #     routing_instance: B4000001R
    #     cir: 300M
    #     pir: 300M
    #     qos: TRUE
    #     interface_set: 
    #   400: 
    #     description: "VLAN_200"
    #     vlan_id: 400
    #     ipv4_addr: 10.1.4.1/31
    #     inet_mtu: 
    #     routing_instance: B4000001R
    #     cir: 400M
    #     pir:
    #     qos: TRUE
    #     interface_set: GRP_XE001_STKVLAN_2
    #   500: 
    #     description: "VLAN_200"
    #     vlan_id: 500
    #     ipv4_addr: 10.1.5.1/31
    #     inet_mtu: 
    #     routing_instance: B4000001R
    #     cir: 500M
    #     pir:
    #     qos: FALSE
    #     interface_set: GRP_XE001_STKVLAN_2
    #   600: 
    #     description: "VLAN_200"
    #     vlan_id: 600
    #     ipv4_addr: 10.1.6.1/31
    #     inet_mtu: 
    #     routing_instance: B4000001R
    #     cir: 600M
    #     pir:
    #     qos: TRUE
    #     interface_set: GRP_XE001_STKVLAN_2


class_of_service:
  interface: ae100
  interface_set:
    GRP_AE100_STKVLAN:
      member_count: 5
      cir: 50m
      pir: 50g
    # GRP_XE001_STKVLAN_2:
    #   cir: 1500m
    #   pir: 3g 



  
   



